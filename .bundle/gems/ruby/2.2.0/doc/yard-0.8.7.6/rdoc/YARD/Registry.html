<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module YARD::Registry - yard-0.8.7.6 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#module-YARD::Registry-label-Saving+-2F+Loading+a+Registry">Saving / Loading a Registry</a>
    <li><a href="#module-YARD::Registry-label-Threading+Notes">Threading Notes</a>
  </ul>
</div>


  <div id="class-metadata">
    
    
    
    <div id="extends-section" class="nav-section">
  <h3>Extended With Modules</h3>

  <ul class="link-list">
    
  
    <li><span class="extend">Enumerable</span>
  
  
  </ul>
</div>

    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-5B-5D">::[]</a>
    
    <li ><a href="#method-c-all">::all</a>
    
    <li ><a href="#method-c-at">::at</a>
    
    <li ><a href="#method-c-checksum_for">::checksum_for</a>
    
    <li ><a href="#method-c-checksums">::checksums</a>
    
    <li ><a href="#method-c-clear">::clear</a>
    
    <li ><a href="#method-c-delete">::delete</a>
    
    <li ><a href="#method-c-delete_from_disk">::delete_from_disk</a>
    
    <li ><a href="#method-c-each">::each</a>
    
    <li ><a href="#method-c-global_yardoc_file">::global_yardoc_file</a>
    
    <li ><a href="#method-c-instance">::instance</a>
    
    <li ><a href="#method-c-load">::load</a>
    
    <li ><a href="#method-c-load-21">::load!</a>
    
    <li ><a href="#method-c-load_all">::load_all</a>
    
    <li ><a href="#method-c-load_yardoc">::load_yardoc</a>
    
    <li ><a href="#method-c-local_yardoc_file">::local_yardoc_file</a>
    
    <li ><a href="#method-c-locale">::locale</a>
    
    <li ><a href="#method-c-partial_resolve">::partial_resolve</a>
    
    <li ><a href="#method-c-paths">::paths</a>
    
    <li ><a href="#method-c-po_dir-3D">::po_dir=</a>
    
    <li ><a href="#method-c-proxy_types">::proxy_types</a>
    
    <li ><a href="#method-c-register">::register</a>
    
    <li ><a href="#method-c-resolve">::resolve</a>
    
    <li ><a href="#method-c-root">::root</a>
    
    <li ><a href="#method-c-save">::save</a>
    
    <li ><a href="#method-c-single_object_db-3D">::single_object_db=</a>
    
    <li ><a href="#method-c-thread_local_store">::thread_local_store</a>
    
    <li ><a href="#method-c-thread_local_store-3D">::thread_local_store=</a>
    
    <li ><a href="#method-c-yardoc_file-3D">::yardoc_file=</a>
    
    <li ><a href="#method-c-yardoc_file_for_gem">::yardoc_file_for_gem</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-YARD::Registry">
  <h1 id="module-YARD::Registry" class="module">
    module YARD::Registry
  </h1>

  <section class="description">
    
<p>The <code>Registry</code> is the centralized data store for all
{CodeObjects} created during parsing. The storage is a key value store with
the object&#39;s path (see {CodeObjects::Base#path}) as the key and the
object itself as the value. <a href="../Object.html">Object</a> paths must
be unique to be stored in the <a href="Registry.html">Registry</a>. All
lookups for objects are done on the singleton <a
href="Registry.html">Registry</a> instance using the {Registry.at} or
{Registry.resolve} methods.</p>

<h2 id="module-YARD::Registry-label-Saving+-2F+Loading+a+Registry">Saving / Loading a <a href="Registry.html">Registry</a><span><a href="#module-YARD::Registry-label-Saving+-2F+Loading+a+Registry">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The registry is saved to a “yardoc file” (actually a directory), which can
be loaded back to perform any lookups. See {Registry.load!} and
{Registry.save} for information on saving and loading of a yardoc file.</p>

<h2 id="module-YARD::Registry-label-Threading+Notes">Threading Notes<span><a href="#module-YARD::Registry-label-Threading+Notes">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The registry class is a singleton class that is accessed directly in many
places across <a href="../YARD.html">YARD</a>. To mitigate threading
issues, <a href="../YARD.html">YARD</a> (0.6.5+) makes the <a
href="Registry.html">Registry</a> thread local. This means all access to a
registry for a specific object set must occur in the originating thread.</p>

<p>@example Loading the <a href="Registry.html">Registry</a></p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">load!</span>(<span class="ruby-string">&#39;/path/to/yardocfile&#39;</span>) <span class="ruby-comment"># loads all objects into memory</span>
<span class="ruby-constant">Registry</span>.<span class="ruby-identifier">at</span>(<span class="ruby-string">&#39;YARD::CodeObjects::Base&#39;</span>).<span class="ruby-identifier">docstring</span>
<span class="ruby-comment"># =&gt; &quot;+Base+ is the superclass of all code objects ...&quot;</span>
</pre>

<p>@example Getting an object by a specific path</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">at</span>(<span class="ruby-string">&#39;YARD::CodeObjects::Base#docstring&#39;</span>)
</pre>

<p>@example Performing a lookup on a method anywhere in the inheritance tree</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-constant">P</span>(<span class="ruby-string">&#39;YARD::CodeObjects::Base&#39;</span>), <span class="ruby-string">&#39;#docstring&#39;</span>, <span class="ruby-keyword">true</span>)
</pre>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="DEFAULT_PO_DIR">DEFAULT_PO_DIR
        
        <dd>
        
      
        <dt id="DEFAULT_YARDOC_FILE">DEFAULT_YARDOC_FILE
        
        <dd>
        
      
        <dt id="LOCAL_YARDOC_INDEX">LOCAL_YARDOC_INDEX
        
        <dd>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-c-po_dir" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">po_dir</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Gets/sets the directory that has LANG.po files @return [String] the
directory that has .po files</p>
        
        </div>
      </div>
      
      <div id="attribute-c-single_object_db" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">single_object_db</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Whether or not the <a href="Registry.html">Registry</a> storage should load
everything into a single object database (for disk efficiency), or spread
them out (for load time efficiency).</p>

<p>@note Setting this attribute to nil will offload the decision to</p>

<pre>the {RegistryStore storage adapter}.</pre>

<p>@return [Boolean, nil] if this value is set to nil, the storage</p>

<pre>adapter will decide how to store the data.</pre>
        
        </div>
      </div>
      
      <div id="attribute-c-yardoc_file" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">yardoc_file</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Gets/sets the yardoc filename @return [String] the yardoc filename @see <a
href="Registry.html#DEFAULT_YARDOC_FILE">DEFAULT_YARDOC_FILE</a></p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-5B-5D" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">[]</span><span
            class="method-args">(path)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Registry.html#method-c-at">at</a>
        </div>
        
      </div>

    
      <div id="method-c-all" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all</span><span
            class="method-args">(*types)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns all objects in the registry that match one of the types provided in
the <code>types</code> list (if <code>types</code> is provided).</p>

<p>@example Returns all objects</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">all</span>
</pre>

<p>@example Returns all classes and modules</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">all</span>(:<span class="ruby-keyword">class</span>, :<span class="ruby-keyword">module</span>)
</pre>

<p>@param [Array&lt;Symbol&gt;] types an optional list of types to narrow the</p>

<pre>objects down by. Equivalent to performing a select:
  +Registry.all.select {|o| types.include(o.type) }+</pre>

<p>@return [Array&lt;CodeObjects::Base&gt;] the list of objects found @see <a
href="CodeObjects/Base.html#method-i-type">YARD::CodeObjects::Base#type</a></p>
          
          

          
          <div class="method-source-code" id="all-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">all</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">types</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span> <span class="ruby-identifier">obj</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">root</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">list</span> = []
    <span class="ruby-identifier">types</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">list</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">values_for_type</span>(<span class="ruby-identifier">type</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">list</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">at</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the object at a specific path. @param [String, :root] path the
pathname to look for. If <code>path</code> is <code>root</code>,</p>

<pre>returns the {root} object.</pre>

<p>@return [CodeObjects::Base] the object at path @return [nil] if no object
is found</p>
          
          

          
          <div class="method-source-code" id="at-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">at</span>(<span class="ruby-identifier">path</span>) <span class="ruby-identifier">path</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">thread_local_store</span>[<span class="ruby-identifier">path</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Registry.html#method-c-5B-5D">[]</a>
        </div>
        

        
      </div>

    
      <div id="method-c-checksum_for" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">checksum_for</span><span
            class="method-args">(data)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param [String] data data to checksum @return [String] the SHA1 checksum
for data</p>
          
          

          
          <div class="method-source-code" id="checksum_for-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">checksum_for</span>(<span class="ruby-identifier">data</span>)
  <span class="ruby-constant">Digest</span><span class="ruby-operator">::</span><span class="ruby-constant">SHA1</span>.<span class="ruby-identifier">hexdigest</span>(<span class="ruby-identifier">data</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-checksums" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">checksums</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Hash{String =&gt; String}] a set of checksums for files</p>
          
          

          
          <div class="method-source-code" id="checksums-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 325</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">checksums</span>
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">checksums</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-clear" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Clears the registry @return [void]</p>
          
          

          
          <div class="method-source-code" id="clear-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">thread_local_store</span> = <span class="ruby-constant">RegistryStore</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-delete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete</span><span
            class="method-args">(object)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Deletes an object from the registry @param [CodeObjects::Base] object the
object to remove @return [void]</p>
          
          

          
          <div class="method-source-code" id="delete-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">object</span>)
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">object</span>.<span class="ruby-identifier">path</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-delete_from_disk" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete_from_disk</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Deletes the yardoc file from disk @return [void]</p>
          
          

          
          <div class="method-source-code" id="delete_from_disk-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 165</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete_from_disk</span>
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">destroy</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-each" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Iterates over {all} with no arguments</p>
          
          

          
          <div class="method-source-code" id="each-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">all</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-instance" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">instance</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The registry singleton instance.</p>

<p>@deprecated use Registry.methodname directly. @return [Registry] returns
the registry instance</p>
          
          

          
          <div class="method-source-code" id="instance-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 375</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">instance</span>; <span class="ruby-keyword">self</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-load" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load</span><span
            class="method-args">(files = [], reparse = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads the registry and/or parses a list of files</p>

<p>@example Loads the yardoc file or parses files &#39;a&#39;, &#39;b&#39; and
&#39;c&#39; (but not both)</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">load</span>([<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-string">&#39;c&#39;</span>])
</pre>

<p>@example Reparses files &#39;a&#39; and &#39;b&#39; regardless of whether
yardoc file exists</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">load</span>([<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-keyword">true</span>)
</pre>

<p>@param [String, Array] files if <code>files</code> is an <a
href="../Array.html">Array</a>, it should represent</p>

<pre>a list of files that YARD should parse into the registry. If reload is
set to false and the yardoc file already exists, these files are skipped.
If files is a String, it should represent the yardoc file to load
into the registry.</pre>

<p>@param [Boolean] reparse if reparse is false and a yardoc file already</p>

<pre>exists, any files passed in will be ignored.</pre>

<p>@return [Registry] the registry object (for chaining) @raise
[ArgumentError] if files is not a <a href="../String.html">String</a> or <a
href="../Array.html">Array</a></p>
          
          

          
          <div class="method-source-code" id="load-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load</span>(<span class="ruby-identifier">files</span> = [], <span class="ruby-identifier">reparse</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">files</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">yardoc_file</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">reparse</span>
      <span class="ruby-identifier">load_yardoc</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">size</span> = <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span>
      <span class="ruby-constant">YARD</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">files</span>)
      <span class="ruby-identifier">save</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">size</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">files</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
    <span class="ruby-identifier">load_yardoc</span>(<span class="ruby-identifier">files</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Must take a list of files to parse or the .yardoc file to load.&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-load-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load!</span><span
            class="method-args">(file = yardoc_file)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads a yardoc file and forces all objects cached on disk into memory.
Equivalent to calling {load_yardoc} followed by {load_all}</p>

<p>@param [String] file the yardoc file to load @return [Registry] the
registry object (for chaining) @see load_yardoc @see load_all @since 0.5.1</p>
          
          

          
          <div class="method-source-code" id="load-21-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 133</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load!</span>(<span class="ruby-identifier">file</span> = <span class="ruby-identifier">yardoc_file</span>)
  <span class="ruby-identifier">clear</span>
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">load!</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-load_all" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_all</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Forces all objects cached on disk into memory</p>

<p>@example Loads all objects from disk</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">load</span>
<span class="ruby-constant">Registry</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">count</span> <span class="ruby-comment">#=&gt; 0</span>
<span class="ruby-constant">Registry</span>.<span class="ruby-identifier">load_all</span>
<span class="ruby-constant">Registry</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">count</span> <span class="ruby-comment">#=&gt; 17</span>
</pre>

<p>@return [Registry] the registry object (for chaining) @since 0.5.1</p>
          
          

          
          <div class="method-source-code" id="load_all-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_all</span>
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">load_all</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-load_yardoc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_yardoc</span><span
            class="method-args">(file = yardoc_file)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads a yardoc file directly</p>

<p>@param [String] file the yardoc file to load. @return [Registry] the
registry object (for chaining)</p>
          
          

          
          <div class="method-source-code" id="load_yardoc-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 119</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_yardoc</span>(<span class="ruby-identifier">file</span> = <span class="ruby-identifier">yardoc_file</span>)
  <span class="ruby-identifier">clear</span>
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-locale" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">locale</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param [String] name the locale name. @return [I18n::Locale] the locale
object for <code>name</code>. @since 0.8.3</p>
          
          

          
          <div class="method-source-code" id="locale-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 246</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">locale</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">locale</span>(<span class="ruby-identifier">name</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-paths" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">paths</span><span
            class="method-args">(reload = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the paths of all of the objects in the registry. @param [Boolean]
reload whether to load entire database @return [Array&lt;String&gt;] all of
the paths in the registry.</p>
          
          

          
          <div class="method-source-code" id="paths-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 227</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">paths</span>(<span class="ruby-identifier">reload</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">keys</span>(<span class="ruby-identifier">reload</span>).<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-po_dir-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">po_dir=</span><span
            class="method-args">(dir)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="po_dir-3D-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">po_dir=</span>(<span class="ruby-identifier">dir</span>) <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:__yard_po_dir__</span>] = <span class="ruby-identifier">dir</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-proxy_types" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">proxy_types</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The assumed types of a list of paths. This method is used by <a
href="CodeObjects/Base.html">CodeObjects::Base</a> @return [{String =&gt;
Symbol}] a set of unresolved paths and their assumed type @private
@deprecated The registry no longer globally tracks proxy types.</p>
          
          

          
          <div class="method-source-code" id="proxy_types-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 354</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">proxy_types</span>
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">proxy_types</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-register" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">register</span><span
            class="method-args">(object)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Registers a new object with the registry</p>

<p>@param [CodeObjects::Base] object the object to register @return
[CodeObjects::Base] the registered object</p>
          
          

          
          <div class="method-source-code" id="register-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">register</span>(<span class="ruby-identifier">object</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">Proxy</span>)
  <span class="ruby-identifier">thread_local_store</span>[<span class="ruby-identifier">object</span>.<span class="ruby-identifier">path</span>] = <span class="ruby-identifier">object</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-resolve" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">resolve</span><span
            class="method-args">(namespace, name, inheritance = false, proxy_fallback = false, type = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Attempts to find an object by name starting at <code>namespace</code>,
performing a lookup similar to Ruby&#39;s method of resolving a constant in
a namespace.</p>

<p>@example Looks for instance method reverse starting from A::B::C</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-constant">P</span>(<span class="ruby-string">&quot;A::B::C&quot;</span>), <span class="ruby-node">&quot;#reverse&quot;</span>)
</pre>

<p>@example Looks for a constant in the root namespace</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;CONSTANT&#39;</span>)
</pre>

<p>@example Looks for a class method respecting the inheritance tree</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-identifier">myclass</span>, <span class="ruby-string">&#39;mymethod&#39;</span>, <span class="ruby-keyword">true</span>)
</pre>

<p>@example Looks for a constant but returns a proxy if not found</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-constant">P</span>(<span class="ruby-string">&#39;A::B::C&#39;</span>), <span class="ruby-string">&#39;D&#39;</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">true</span>) <span class="ruby-comment"># =&gt; #&lt;yardoc proxy A::B::C::D&gt;</span>
</pre>

<p>@example Looks for a complex path from a namespace</p>

<pre class="ruby"><span class="ruby-constant">Registry</span>.<span class="ruby-identifier">resolve</span>(<span class="ruby-constant">P</span>(<span class="ruby-string">&#39;A::B&#39;</span>), <span class="ruby-string">&#39;B::D&#39;</span>) <span class="ruby-comment"># =&gt; #&lt;yardoc class A::B::D&gt;</span>
</pre>

<p>@param [CodeObjects::NamespaceObject, nil] namespace the starting namespace</p>

<pre>(module or class). If +nil+ or +:root+, starts from the {root} object.</pre>

<p>@param [String, Symbol] name the name (or complex path) to look for from</p>

<pre>+namespace+.</pre>

<p>@param [Boolean] inheritance Follows inheritance chain (mixins, superclass)</p>

<pre>when performing name resolution if set to +true+.</pre>

<p>@param [Boolean] proxy_fallback If <code>true</code>, returns a proxy
representing</p>

<pre>the unresolved path (namespace + name) if no object is found.</pre>

<p>@param [Symbol, nil] type the {CodeObjects::Base#type} that the resolved</p>

<pre>object must be equal to. No type checking if nil.</pre>

<p>@return [CodeObjects::Base] the object if it is found @return
[CodeObjects::Proxy] a Proxy representing the object if</p>

<pre>+proxy_fallback+ is +true+.</pre>

<p>@return [nil] if <code>proxy_fallback</code> is <code>false</code> and no
object was found. @see P</p>
          
          

          
          <div class="method-source-code" id="resolve-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">resolve</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">inheritance</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">proxy_fallback</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">type</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">Proxy</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">proxy_fallback</span> <span class="ruby-operator">?</span> <span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">type</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">==</span> <span class="ruby-value">:root</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">namespace</span>
    <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">root</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">parent</span> <span class="ruby-keyword">until</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">NamespaceObject</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">orignamespace</span> = <span class="ruby-identifier">namespace</span>

  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^#{CodeObjects::NSEPQ}/</span>
    [<span class="ruby-identifier">name</span>, <span class="ruby-identifier">name</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">found</span> = <span class="ruby-identifier">at</span>(<span class="ruby-identifier">n</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">found</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">found</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">found</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">type</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">while</span> <span class="ruby-identifier">namespace</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">NamespaceObject</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">inheritance</span>
          <span class="ruby-identifier">nss</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">inheritance_tree</span>(<span class="ruby-keyword">true</span>)
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:superclass</span>)
            <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">superclass</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">P</span>(<span class="ruby-string">&#39;BasicObject&#39;</span>)
              <span class="ruby-identifier">nss</span> <span class="ruby-operator">|=</span> [<span class="ruby-constant">P</span>(<span class="ruby-string">&#39;Object&#39;</span>)]
            <span class="ruby-keyword">end</span>
            <span class="ruby-identifier">nss</span> <span class="ruby-operator">|=</span> [<span class="ruby-constant">P</span>(<span class="ruby-string">&#39;BasicObject&#39;</span>)]
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">nss</span> = [<span class="ruby-identifier">namespace</span>]
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">nss</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ns</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">Proxy</span>)
          <span class="ruby-identifier">found</span> = <span class="ruby-identifier">partial_resolve</span>(<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">type</span>)
          <span class="ruby-keyword">return</span> <span class="ruby-identifier">found</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">found</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">parent</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">proxy_fallback</span> <span class="ruby-operator">?</span> <span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">orignamespace</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">type</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-root" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">root</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The root namespace object. @return [CodeObjects::RootObject] the root
object in the namespace</p>
          
          

          
          <div class="method-source-code" id="root-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">root</span>; <span class="ruby-identifier">thread_local_store</span>[<span class="ruby-value">:root</span>] <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-save" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">save</span><span
            class="method-args">(merge = false, file = yardoc_file)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Saves the registry to <code>file</code></p>

<p>@param [String] file the yardoc file to save to @return [Boolean] true if
the file was saved</p>
          
          

          
          <div class="method-source-code" id="save-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 159</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save</span>(<span class="ruby-identifier">merge</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">file</span> = <span class="ruby-identifier">yardoc_file</span>)
  <span class="ruby-identifier">thread_local_store</span>.<span class="ruby-identifier">save</span>(<span class="ruby-identifier">merge</span>, <span class="ruby-identifier">file</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-single_object_db-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">single_object_db=</span><span
            class="method-args">(v)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="single_object_db-3D-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 347</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">single_object_db=</span>(<span class="ruby-identifier">v</span>) <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:__yard_single_db__</span>] = <span class="ruby-identifier">v</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-yardoc_file-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">yardoc_file=</span><span
            class="method-args">(v)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="yardoc_file-3D-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">yardoc_file=</span>(<span class="ruby-identifier">v</span>) <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:__yard_yardoc_file__</span>] = <span class="ruby-identifier">v</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-yardoc_file_for_gem" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">yardoc_file_for_gem</span><span
            class="method-args">(gem, ver_require = ">= 0", for_writing = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the .yardoc file associated with a gem.</p>

<p>@param [String] gem the name of the gem to search for @param [String]
ver_require an optional Gem version requirement @param [Boolean]
for_writing whether or not the method should search</p>

<pre>for writable locations</pre>

<p>@return [String] if <code>for_writing</code> is set to <code>true</code>,
returns the best</p>

<pre>location suitable to write the .yardoc file. Otherwise, the first
existing location associated with the gem&#39;s .yardoc file.</pre>

<p>@return [nil] if <code>for_writing</code> is set to false and no yardoc
file</p>

<pre>is found, returns nil.</pre>
          
          

          
          <div class="method-source-code" id="yardoc_file_for_gem-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">yardoc_file_for_gem</span>(<span class="ruby-identifier">gem</span>, <span class="ruby-identifier">ver_require</span> = <span class="ruby-string">&quot;&gt;= 0&quot;</span>, <span class="ruby-identifier">for_writing</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">spec</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">source_index</span>.<span class="ruby-identifier">find_name</span>(<span class="ruby-identifier">gem</span>, <span class="ruby-identifier">ver_require</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">gem</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^yard-doc-/</span>
    <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">full_gem_path</span>, <span class="ruby-constant">DEFAULT_YARDOC_FILE</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">path</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">for_writing</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">for_writing</span>
    <span class="ruby-identifier">global_yardoc_file</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">for_writing</span>) <span class="ruby-operator">||</span>
      <span class="ruby-identifier">local_yardoc_file</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">for_writing</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">local_yardoc_file</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">for_writing</span>) <span class="ruby-operator">||</span>
      <span class="ruby-identifier">global_yardoc_file</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">for_writing</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Class Methods</h3>
       </header>

    
      <div id="method-c-global_yardoc_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">global_yardoc_file</span><span
            class="method-args">(spec, for_writing = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@group Retrieving yardoc <a href="../File.html">File</a> Locations</p>
          
          

          
          <div class="method-source-code" id="global_yardoc_file-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 404</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">global_yardoc_file</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">for_writing</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">full_gem_path</span>
  <span class="ruby-identifier">yfile</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-constant">DEFAULT_YARDOC_FILE</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">for_writing</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">writable?</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">yfile</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">for_writing</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">yfile</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">yfile</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-local_yardoc_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">local_yardoc_file</span><span
            class="method-args">(spec, for_writing = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="local_yardoc_file-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 414</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">local_yardoc_file</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">for_writing</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">Registry</span><span class="ruby-operator">::</span><span class="ruby-constant">LOCAL_YARDOC_INDEX</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">path</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">for_writing</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-node">&quot;#{spec.full_name}.yardoc&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">for_writing</span>
    <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">path</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-partial_resolve" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">partial_resolve</span><span
            class="method-args">(namespace, name, type = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Attempts to resolve a name in a namespace</p>

<p>@param [CodeObjects::NamespaceObject] namespace the starting namespace
@param [String] name the name to look for @param [Symbol, nil] type the
{CodeObjects::Base#type} that the resolved</p>

<pre class="ruby"><span class="ruby-identifier">object</span> <span class="ruby-identifier">must</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">equal</span> <span class="ruby-identifier">to</span>
</pre>
          
          

          
          <div class="method-source-code" id="partial_resolve-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 387</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">partial_resolve</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">type</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">obj</span> = <span class="ruby-identifier">at</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">at</span>(<span class="ruby-string">&#39;#&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">root?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">obj</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">obj</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">type</span>)
  [<span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">NSEP</span>, <span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">CSEP</span>, <span class="ruby-string">&#39;&#39;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^\w/</span>
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">name</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">root</span>
      <span class="ruby-identifier">path</span> = [<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">name</span>].<span class="ruby-identifier">join</span>(<span class="ruby-identifier">s</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">found</span> = <span class="ruby-identifier">at</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">found</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">found</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">found</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">type</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-thread_local_store" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">thread_local_store</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@since 0.6.5</p>
          
          

          
          <div class="method-source-code" id="thread_local_store-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thread_local_store</span>
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:__yard_registry__</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-thread_local_store-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">thread_local_store=</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@since 0.6.5</p>
          
          

          
          <div class="method-source-code" id="thread_local_store-3D-source">
            <pre><span class="ruby-comment"># File lib/yard/registry.rb, line 433</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thread_local_store=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:__yard_registry__</span>] = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

