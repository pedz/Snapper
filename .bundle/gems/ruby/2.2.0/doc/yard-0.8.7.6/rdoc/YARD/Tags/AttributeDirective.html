<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class YARD::Tags::AttributeDirective - yard-0.8.7.6 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="MethodDirective.html">YARD::Tags::MethodDirective</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-after_parse">#after_parse</a>
    
    <li ><a href="#method-i-create_attribute_data">#create_attribute_data</a>
    
    <li ><a href="#method-i-method_name">#method_name</a>
    
    <li ><a href="#method-i-method_signature">#method_signature</a>
    
    <li ><a href="#method-i-readable-3F">#readable?</a>
    
    <li ><a href="#method-i-writable-3F">#writable?</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-YARD::Tags::AttributeDirective">
  <h1 id="class-YARD::Tags::AttributeDirective" class="class">
    class YARD::Tags::AttributeDirective
  </h1>

  <section class="description">
    
<p>Defines an attribute with a given name, using indented block data as the
attribute&#39;s docstring. If the type specifier is supplied with “r”, “w”,
or “rw”, the attribute is made readonly, writeonly or readwrite
respectively. A readwrite attribute is the default, if no type is
specified. The comment containing this directive does not need to be
attached to any source, but if it is, that source code will be used as the
method&#39;s source.</p>

<p>To define an regular method, see {tag:!method}</p>

<p>@note For backwards compatibility support, you do not need to indent</p>

<pre>the attribute&#39;s docstring text. If an +@!attribute+ directive is seen with
no indented block, the entire docstring is used as the new attribute&#39;s
docstring text.</pre>

<p>@example Defining a simple readonly attribute</p>

<pre class="ruby"><span class="ruby-comment"># @!attribute [r] count</span>
<span class="ruby-comment">#   @return [Fixnum] the size of the list</span>
</pre>

<p>@example Defining a simple readwrite attribute</p>

<pre class="ruby"><span class="ruby-comment"># @!attribute name</span>
<span class="ruby-comment">#   @return [String] the name of the user</span>
</pre>

<p>@see tag:!method @since 0.7.0</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-after_parse" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">after_parse</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="after_parse-source">
            <pre><span class="ruby-comment"># File lib/yard/tags/directives.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">after_parse</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">handler</span>
  <span class="ruby-identifier">use_indented_text</span>
  <span class="ruby-identifier">create_attribute_data</span>(<span class="ruby-identifier">create_object</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Protected Instance Methods</h3>
       </header>

    
      <div id="method-i-method_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">method_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="method_name-source">
            <pre><span class="ruby-comment"># File lib/yard/tags/directives.rb, line 445</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">method_name</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">sanitized_tag_signature</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">call_params</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">name</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&#39;=&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">readable?</span>
  <span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-method_signature" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">method_signature</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="method_signature-source">
            <pre><span class="ruby-comment"># File lib/yard/tags/directives.rb, line 451</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">method_signature</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">readable?</span>
    <span class="ruby-node">&quot;def #{method_name}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-node">&quot;def #{method_name}(value)&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-create_attribute_data" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_attribute_data</span><span
            class="method-args">(object)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="create_attribute_data-source">
            <pre><span class="ruby-comment"># File lib/yard/tags/directives.rb, line 461</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_attribute_data</span>(<span class="ruby-identifier">object</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">object</span>
  <span class="ruby-identifier">clean_name</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/=$/</span>, <span class="ruby-string">&#39;&#39;</span>)
  <span class="ruby-identifier">attrs</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">object</span>.<span class="ruby-identifier">scope</span>]
  <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">clean_name</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">SymbolHash</span>[<span class="ruby-value">:read</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:write</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">readable?</span>
    <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">clean_name</span>][<span class="ruby-value">:read</span>] = <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">writable?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-value">-1</span>,<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;=&#39;</span>
      <span class="ruby-identifier">writer</span> = <span class="ruby-identifier">object</span>
      <span class="ruby-identifier">writer</span>.<span class="ruby-identifier">parameters</span> = [[<span class="ruby-string">&#39;value&#39;</span>, <span class="ruby-keyword">nil</span>]]
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">writer</span> = <span class="ruby-constant">CodeObjects</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodObject</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">object</span>.<span class="ruby-identifier">namespace</span>,
        <span class="ruby-identifier">object</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;=&#39;</span>, <span class="ruby-identifier">object</span>.<span class="ruby-identifier">scope</span>)
      <span class="ruby-identifier">writer</span>.<span class="ruby-identifier">signature</span> = <span class="ruby-node">&quot;def #{object.name}=(value)&quot;</span>
      <span class="ruby-identifier">writer</span>.<span class="ruby-identifier">visibility</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">visibility</span>
      <span class="ruby-identifier">writer</span>.<span class="ruby-identifier">dynamic</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">dynamic</span>
      <span class="ruby-identifier">writer</span>.<span class="ruby-identifier">source</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">source</span>
      <span class="ruby-identifier">writer</span>.<span class="ruby-identifier">group</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">group</span>
      <span class="ruby-identifier">writer</span>.<span class="ruby-identifier">parameters</span> = [[<span class="ruby-string">&#39;value&#39;</span>, <span class="ruby-keyword">nil</span>]]
      <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">register_file_info</span>(<span class="ruby-identifier">writer</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">clean_name</span>][<span class="ruby-value">:write</span>] = <span class="ruby-identifier">writer</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-readable-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">readable?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="readable-3F-source">
            <pre><span class="ruby-comment"># File lib/yard/tags/directives.rb, line 492</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">readable?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">tag</span>.<span class="ruby-identifier">types</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">types</span>.<span class="ruby-identifier">join</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/(?!w)r/</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-writable-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">writable?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="writable-3F-source">
            <pre><span class="ruby-comment"># File lib/yard/tags/directives.rb, line 488</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">writable?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">tag</span>.<span class="ruby-identifier">types</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">types</span>.<span class="ruby-identifier">join</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;w&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

